# 1351_Count_Negative_Numbers_in_a_Sorted_Matrix.py
# -----------------------------------------------------
# âœ… ì œëª©: LeetCode 1351. Count Negative Numbers in a Sorted Matrix
# âœ… ë¬¸ì œ ì„¤ëª…(ìš”ì•½):
#   - m x n ì •ë ¬ í–‰ë ¬ gridê°€ ì£¼ì–´ì§„ë‹¤.
#   - ê° í–‰ì€ ì™¼ìª½â†’ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ, ê° ì—´ì€ ìœ„â†’ì•„ë˜ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ë˜ì–´ ìˆë‹¤.
#   - ì „ì²´ ì›ì†Œ ì¤‘ ìŒìˆ˜(< 0)ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.
#
# âœ… ì…ë ¥ í˜•ì‹(ìš”ì§€):
#   - grid: List[List[int]] (mí–‰ nì—´ ì •ìˆ˜ í–‰ë ¬)
#
# âœ… ê·œì¹™ ìš”ì•½:
#   - ì •ë ¬ íŠ¹ì„±ìƒ ê° í–‰ì—ì„œ ìŒìˆ˜ëŠ” ì—°ì†ëœ suffix í˜•íƒœë¡œ ë“±ì¥í•œë‹¤.
#   - ë˜í•œ í–‰/ì—´ ëª¨ë‘ ë‚´ë¦¼ì°¨ìˆœì´ë¯€ë¡œ, í•œ ìœ„ì¹˜ì—ì„œ ìŒìˆ˜ êµ¬ê°„ì„ í•œ ë²ˆì— ì…€ ìˆ˜ ìˆë‹¤.
#
# âœ… ì •ë‹µ ì½”ë“œ(ë‚˜ì˜ í’€ì´; ì ˆëŒ€ ìˆ˜ì • ê¸ˆì§€)
#   - ì•„ë˜ ì½”ë“œëŠ” ì‚¬ìš©ìê°€ ì‘ì„±í•œ ë‘ ê°€ì§€ ì •ë‹µ í’€ì´ì´ë©°,
#     ì´ ë‹¨ê³„ì—ì„œëŠ” ì½”ë“œ ë‚´ìš©ì„ ë³€ê²½í•˜ì§€ ì•Šê³ ,
#     ê° ì¤„ë§ˆë‹¤ ì„¤ëª… ì£¼ì„ë§Œ ì¶”ê°€í•œë‹¤.

class Solution:
    def countNegatives(self, grid: List[List[int]]) -> int:
        ans = 0                                           # ìŒìˆ˜ ê°œìˆ˜ ëˆ„ì 
        n = len(grid[0])                                  # ì—´ ê°œìˆ˜(ê° row ê¸¸ì´)

        for row in grid:                                  # ê° í–‰ë§ˆë‹¤ ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬
            left, right = 0, n                            # ì´ì§„ íƒìƒ‰ ë²”ìœ„: [left, right)

            while left < right:                           # ì²« ìŒìˆ˜ ìœ„ì¹˜(lower_bound)ë¥¼ ì°¾ëŠ” ë£¨í”„
                mid = (left + right) // 2                 # ì¤‘ê°„ ì¸ë±ìŠ¤

                if row[mid] < 0:                          # midê°€ ìŒìˆ˜ë¼ë©´, ì²« ìŒìˆ˜ëŠ” mid í¬í•¨ ì™¼ìª½ì— ìˆì„ ìˆ˜ ìˆìŒ
                    right = mid                           # ì˜¤ë¥¸ìª½ ê²½ê³„ë¥¼ midë¡œ ë‹¹ê¹€
                elif row[mid] >= 0:                       # midê°€ 0 ì´ìƒì´ë©´, ì²« ìŒìˆ˜ëŠ” mid ì˜¤ë¥¸ìª½ì—ë§Œ ì¡´ì¬
                    left = mid + 1                        # ì™¼ìª½ ê²½ê³„ë¥¼ mid+1ë¡œ ì´ë™

            ans += n - left                               # leftëŠ” ì²« ìŒìˆ˜ ì¸ë±ìŠ¤(ì—†ìœ¼ë©´ n), ìŒìˆ˜ ê°œìˆ˜ëŠ” n-left

        return ans                                        # ì „ì²´ ìŒìˆ˜ ê°œìˆ˜ ë°˜í™˜


class Solution:
    def countNegatives(self, grid: List[List[int]]) -> int:
        ans = 0                                           # ìŒìˆ˜ ê°œìˆ˜ ëˆ„ì 
        n, m = len(grid), len(grid[0])                    # n: í–‰ ê°œìˆ˜, m: ì—´ ê°œìˆ˜
        i, j = n-1, 0                                     # ì¢Œí•˜ë‹¨ì—ì„œ ì‹œì‘(iëŠ” ì•„ë˜ì—ì„œ ìœ„ë¡œ, jëŠ” ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ)

        while i >= 0 and j < m:                           # ë²”ìœ„ ë‚´ì—ì„œ í¬ì¸í„° ì´ë™
            if grid[i][j] < 0:                            # í˜„ì¬ ê°’ì´ ìŒìˆ˜ë©´, ê°™ì€ í–‰ì˜ j..m-1ì€ ëª¨ë‘ ìŒìˆ˜(ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬)
                ans += m - j                              # ê·¸ êµ¬ê°„ì„ í•œ ë²ˆì— ë”í•¨
                i -= 1                                    # ìœ„ í–‰ìœ¼ë¡œ ì´ë™(ë‹¤ìŒ í–‰(ìœ„ìª½)ì—ì„œë„ ë™ì¼ ë…¼ë¦¬ ì ìš©)
            else:                                         # í˜„ì¬ ê°’ì´ 0 ì´ìƒì´ë©´, ê°™ì€ ì—´ì˜ ìœ„ìª½ì€ ë” í¬ê±°ë‚˜ ê°™ìœ¼ë¯€ë¡œ ìŒìˆ˜ ì•„ë‹˜
                j += 1                                    # ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™(ë” ì‘ì€ ê°’ ìª½ìœ¼ë¡œ ê°€ì„œ ìŒìˆ˜ë¥¼ ì°¾ìŒ)

        return ans                                        # ì „ì²´ ìŒìˆ˜ ê°œìˆ˜ ë°˜í™˜

# -----------------------------------------------------
# ğŸ” ì²« ì‹œë„ ê²°ê³¼:
#   - ë‘ í’€ì´ ëª¨ë‘ ì •ë‹µ.
#   - 1) í–‰ë³„ ì´ì§„ íƒìƒ‰: ê° í–‰ì—ì„œ ì²« ìŒìˆ˜ ì¸ë±ìŠ¤ë¥¼ ì°¾ì•„ ëˆ„ì 
#   - 2) ì¢Œí•˜ë‹¨ í¬ì¸í„°: ì •ë ¬ ê²½ê³„ë¥¼ ë”°ë¼ê°€ë©° ìŒìˆ˜ êµ¬ê°„ì„ í•œ ë²ˆì— ì¹´ìš´íŠ¸
#
# ğŸ”§ ì˜¤ë‹µ ì´ìœ  ë° ì‚¬ìš©í•œ ì•Œê³ ë¦¬ì¦˜ ê°œë…:
#   - ì‚¬ìš©í•œ í•µì‹¬ ê°œë…:
#     - ì´ì§„ íƒìƒ‰(lower_bound): "ì²« ìŒìˆ˜ ìœ„ì¹˜"ë¥¼ ì°¾ê³  suffix ê¸¸ì´ë¥¼ ë”í•¨
#     - íˆ¬ í¬ì¸í„°/ìŠ¤ìœ„í•‘: ì¢Œí•˜ë‹¨ì—ì„œ ì‹œì‘í•´ ìŒìˆ˜ë©´ ìœ„ë¡œ, ì–‘ìˆ˜ë©´ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™í•˜ë©° ì˜ì—­ì„ í•œ ë²ˆì— ê³„ì‚°
#   - í”í•œ ì‹¤ìˆ˜ í¬ì¸íŠ¸(ì¼ë°˜ì ):
#     - í–‰ ê¸¸ì´(len(grid[0]))ì™€ í–‰ ê°œìˆ˜(len(grid))ë¥¼ í˜¼ë™í•˜ì—¬ right ê²½ê³„ë¥¼ ì˜ëª» ë‘ëŠ” ê²ƒ
#     - ì´ì§„ íƒìƒ‰ì—ì„œ row[mid] < 0 ì¼ ë•Œ rightë¥¼ mid-1ë¡œ ë‘ì–´ ê²½ê³„ê°€ í‹€ì–´ì§€ëŠ” ê²ƒ(ë°˜ê°œêµ¬ê°„ ìœ ì§€ í•„ìš”)
#
# ğŸ“š ì‹œê°„Â·ê³µê°„ ë³µì¡ë„:
#   - (í’€ì´ 1) ì´ì§„ íƒìƒ‰
#     - ì‹œê°„ ë³µì¡ë„: O(n * log m)  (n=í–‰, m=ì—´)
#     - ê³µê°„ ë³µì¡ë„: O(1) ì¶”ê°€
#   - (í’€ì´ 2) í¬ì¸í„° ìŠ¤ìº”
#     - ì‹œê°„ ë³µì¡ë„: O(n + m)
#     - ê³µê°„ ë³µì¡ë„: O(1) ì¶”ê°€
#
# -----------------------------------------------------
# (ì„ íƒ) ë‹¤ë¥¸ íš¨ìœ¨ì  í’€ì´ ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ì œì•ˆ:
#   - (í’€ì´ 2)ì²˜ëŸ¼ ê²½ê³„ë¥¼ ë”°ë¼ê°€ë©° í•œ ë²ˆì— ì¹´ìš´íŠ¸í•˜ëŠ” ë°©ì‹ì´ ìµœì ì´ë©°, êµ¬í˜„ë„ ë¹„êµì  ë‹¨ìˆœí•˜ë‹¤.
