# 3542_Minimum_Operations_to_Convert_All_Elements_to_Zero.py
# -----------------------------------------------------
# âœ… ì œëª©: LeetCode 3542. Minimum Operations to Convert All Elements to Zero
# âœ… ë¬¸ì œ ì„¤ëª…(ìš”ì•½):
#   - ë¹„ìŒìˆ˜ ë°°ì—´ numsê°€ ì£¼ì–´ì§„ë‹¤.
#   - í•œ ë²ˆì˜ ì—°ì‚°ì—ì„œ ì„ì˜ì˜ ì—°ì† êµ¬ê°„ [i, j]ë¥¼ ì„ íƒí•˜ê³ , ê·¸ êµ¬ê°„ì˜ "ìµœì†Ÿê°’ê³¼ ê°™ì€ ê°’"ì„ ëª¨ë‘ 0ìœ¼ë¡œ ë§Œë“ ë‹¤.
#   - ëª¨ë“  ì›ì†Œë¥¼ 0ìœ¼ë¡œ ë§Œë“œëŠ” ìµœì†Œ ì—°ì‚° íšŸìˆ˜ë¥¼ êµ¬í•œë‹¤.
#
# âœ… ì…ë ¥ í˜•ì‹(ìš”ì§€):
#   - nums: List[int] (ê° ì›ì†ŒëŠ” 0 ì´ìƒì˜ ì •ìˆ˜)
#
# âœ… ê·œì¹™ ìš”ì•½:
#   - êµ¬ê°„ ë‚´ ìµœì†Ÿê°’ê³¼ ê°™ì€ ê°’ë“¤ë§Œ 0ìœ¼ë¡œ ë°”ë€ë‹¤(ê·¸ ì™¸ ê°’ì€ ê·¸ëŒ€ë¡œ).
#   - ê°’ì´ 0ì¸ ì›ì†ŒëŠ” ì´ë¯¸ ì œê±°ëœ ìƒíƒœë¡œ ì·¨ê¸‰ë˜ì–´ ë³„ë„ ì—°ì‚°ì´ í•„ìš” ì—†ë‹¤.
#   - ìµœì†Œ ì—°ì‚° ìˆ˜ëŠ” "ì¢Œâ†’ìš°ë¡œ ë³´ë©° ìƒˆë¡œ ì‹œì‘ë˜ëŠ” ë†’ì´ì¸µì˜ ê°œìˆ˜"ì™€ ë™ì¼í•˜ë‹¤.
#
# âœ… ì •ë‹µ ì½”ë“œ(ë‚˜ì˜ í’€ì´; ì ˆëŒ€ ìˆ˜ì • ê¸ˆì§€)
class Solution:
    def minOperations(self, nums: List[int]) -> int:
        stack = []                 # ë‹¨ì¡° ì¦ê°€ ìŠ¤íƒ(í˜„ì¬ 'í™œì„± ë†’ì´ì¸µ' ì €ì¥)
        ans = 0                    # ìµœì†Œ ì—°ì‚° íšŸìˆ˜ ëˆ„ì 
        for num in nums:           # ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ìˆœíšŒ
            while stack and stack[-1] > num:  # í˜„ì¬ ë†’ì´ë³´ë‹¤ í° ì¸µì€ ì ‘ì–´ì„œ ì œê±°
                stack.pop()
            if num == 0:           # 0ì€ ì´ë¯¸ ì œê±°ëœ ìƒíƒœì´ë¯€ë¡œ ìŠ¤í‚µ
                continue
            if not stack or stack[-1] < num:  # ìƒˆ ë†’ì´ì¸µ ì‹œì‘ ì‹œì—ë§Œ ì—°ì‚° +1
                ans += 1
                stack.append(num)  # í˜„ì¬ ë†’ì´ë¥¼ í™œì„± ì¸µìœ¼ë¡œ ë“±ë¡
        return ans                 # ì „ì²´ ìµœì†Œ ì—°ì‚° íšŸìˆ˜ ë°˜í™˜
# -----------------------------------------------------
# ğŸ” ì²« ì‹œë„ ê²°ê³¼:
#   - ë‹¨ì¡° ì¦ê°€ ìŠ¤íƒìœ¼ë¡œ "ìƒˆë¡œ ì‹œì‘ë˜ëŠ” ë†’ì´ì¸µ"ë§Œ ì¹´ìš´íŠ¸í•˜ì—¬ O(n)ì— í•´ê²°.
#   - 0ì„ ë§Œë‚˜ë©´ ì¸µì„ í™•ì • ì¢…ë£Œ(ìŠ¤íƒ ì •ë¦¬ í›„ ì¹´ìš´íŠ¸ ì¦ê°€ ì—†ìŒ).
#
# ğŸ”§ ì˜¤ë‹µ ì´ìœ  ë° ì‚¬ìš©í•œ ì•Œê³ ë¦¬ì¦˜ ê°œë…:
#   - ì‚¬ìš© ê°œë…: Monotonic Stack(ì¦ê°€ ìŠ¤íƒ), ë†’ì´ì¸µ(plateau) ì¹´ìš´íŒ….
#   - í•µì‹¬ ì§ê´€: ê°’ì´ ì»¤ì§ˆ ë•Œë§Œ ìƒˆë¡œìš´ ì¸µì´ ì‹œì‘ë˜ì–´ ì—°ì‚° +1, ê°’ì´ ì‘ì•„ì§€ë©´ ê¸°ì¡´ í° ì¸µì„ ì ‘ìœ¼ë©° ë³‘í•©.
#   - ì´ ë¬¸ì œì˜ ì—°ì‚° ì •ì˜(êµ¬ê°„ ìµœì†Ÿê°’ë§Œ 0ìœ¼ë¡œ ë§Œë“¤ê¸°)ëŠ” "ì¸µ" ê´€ì ì—ì„œ ì¦ê°€ ì‹œì‘ ì§€ì ì˜ ê°œìˆ˜ì™€ ì¼ì¹˜.
#
# ğŸ“š ì‹œê°„Â·ê³µê°„ ë³µì¡ë„:
#   - ì‹œê°„: O(n) (ê° ì›ì†ŒëŠ” ìµœëŒ€ 1íšŒ push, 1íšŒ pop)
#   - ê³µê°„: O(n) (ìŠ¤íƒ ìµœì•… í¬ê¸°)
# -----------------------------------------------------
# (ì„ íƒ) ë‹¤ë¥¸ íš¨ìœ¨ì  í’€ì´ ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ì œì•ˆ:
#   - ì¸ì ‘ ì°¨ì´ ê´€ì°°: ë‹µ = Î£ max(0, nums[i] - prev_nonzero_min), êµ¬ê°„ ë¶„í• Â·0 ê²½ê³„ ì²˜ë¦¬ë¡œ êµ¬í˜„ ê°€ëŠ¥.
#   - ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬/ë¶„í• ì •ë³µ: êµ¬ê°„ ìµœì†Ÿê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ë°©ì‹ë„ ê°€ëŠ¥í•˜ë‚˜, ë‹¨ì¡° ìŠ¤íƒì´ ë” ë‹¨ìˆœÂ·ì„ í˜•.
