# 2257_Count_Unguarded_Cells_in_the_Grid.py
# -----------------------------------------------------
# âœ… ì œëª©: LeetCode 2257. Count Unguarded Cells in the Grid
# âœ… ë¬¸ì œ ì„¤ëª…(ìš”ì•½):
#   m x n í¬ê¸°ì˜ ê²©ìì— guard(ê²½ë¹„)ì™€ wall(ë²½)ì´ ë†“ì—¬ ìˆë‹¤.
#   ê° ê²½ë¹„ëŠ” ë„¤ ë°©í–¥(ìƒí•˜ì¢Œìš°)ìœ¼ë¡œ ì‹œì•¼ë¥¼ ê°€ì§„ë‹¤.
#   ë²½ì´ë‚˜ ë‹¤ë¥¸ ê²½ë¹„ê°€ ì‹œì•¼ë¥¼ ë§‰ê¸° ì „ê¹Œì§€ ëª¨ë“  ì¹¸ì„ ê°ì‹œí•  ìˆ˜ ìˆë‹¤.
#   ê°ì‹œë˜ì§€ ì•Šì€ ì¹¸(unguarded)ì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ë¼.
#
# âœ… ì…ë ¥ í˜•ì‹(ìš”ì§€):
#   - m, n: ê²©ìì˜ í–‰ê³¼ ì—´ í¬ê¸°
#   - guards, walls: ê° ìœ„ì¹˜ì˜ ì¢Œí‘œ ë¦¬ìŠ¤íŠ¸ [r, c]
#
# âœ… ê·œì¹™ ìš”ì•½:
#   - 'W'ëŠ” ë²½, 'G'ëŠ” ê²½ë¹„, '0'ì€ ê°ì‹œëœ ì¹¸, '1'ì€ ë¯¸ê°ì‹œ ì¹¸.
#   - ê° ê²½ë¹„ëŠ” ë„¤ ë°©í–¥ìœ¼ë¡œ ì´ë™í•˜ë©°, 'W' ë˜ëŠ” 'G'ë¥¼ ë§Œë‚˜ë©´ ì‹œì•¼ ì¢…ë£Œ.
#
# âœ… ì •ë‹µ ì½”ë“œ(ë‚˜ì˜ í’€ì´; ì ˆëŒ€ ìˆ˜ì • ê¸ˆì§€)
class Solution:
    def countUnguarded(self, m: int, n: int, guards: List[List[int]], walls: List[List[int]]) -> int:
        grid = [[1] * n for _ in range(m)]           # 1 â†’ ë¯¸ê°ì‹œ ìƒíƒœë¡œ ì´ˆê¸°í™”

        for g_x, g_y in guards:                      # ê²½ë¹„ ìœ„ì¹˜ í‘œì‹œ
            grid[g_x][g_y] = "G"
        for w_x, w_y in walls:                       # ë²½ ìœ„ì¹˜ í‘œì‹œ
            grid[w_x][w_y] = "W"

        for g_x, g_y in guards:
            # ë„¤ ë°©í–¥ìœ¼ë¡œ ì‹œì•¼ í™•ì¥
            u, d, l, r = g_y - 1, g_y + 1, g_x - 1, g_x + 1

            while u >= 0 and grid[g_x][u] not in ("W", "G"):  # â† ì™¼ìª½
                grid[g_x][u] = 0
                u -= 1
            while d < n and grid[g_x][d] not in ("W", "G"):   # â†’ ì˜¤ë¥¸ìª½
                grid[g_x][d] = 0
                d += 1
            while l >= 0 and grid[l][g_y] not in ("W", "G"):  # â†‘ ìœ„ìª½
                grid[l][g_y] = 0
                l -= 1
            while r < m and grid[r][g_y] not in ("W", "G"):   # â†“ ì•„ë˜ìª½
                grid[r][g_y] = 0
                r += 1

        return sum(row.count(1) for row in grid)      # ë‚¨ì€ 1ì˜ ê°œìˆ˜ = ë¯¸ê°ì‹œ ì¹¸ ìˆ˜
# -----------------------------------------------------
# ğŸ” ì²« ì‹œë„ ê²°ê³¼:
#   - ëª¨ë“  í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ í†µê³¼.
#   - ì˜¤íƒ€(g_x/g_y ë°©í–¥ í˜¼ë™) ìˆ˜ì • í›„ ë§ˆì§€ë§‰ í–‰ê¹Œì§€ ì •ìƒ ê°ì‹œë¨.
#
# ğŸ”§ ì˜¤ë‹µ ì´ìœ  ë° ì‚¬ìš©í•œ ì•Œê³ ë¦¬ì¦˜ ê°œë…:
#   - ì‚¬ìš© ê°œë…: Grid Simulation (ì‹œë®¬ë ˆì´ì…˜ + ê²½ê³„ ì¡°ê±´)
#   - ê²½ë¹„ëŠ” ë„¤ ë°©í–¥ìœ¼ë¡œ ë²½/ê²½ë¹„ë¥¼ ë§Œë‚˜ê¸° ì „ê¹Œì§€ ì§ì„  ì „íŒŒ.
#   - ê²½ê³„ ê²€ì‚¬ ë° ìƒíƒœ ì „í™˜(1â†’0)ì„ í†µí•´ ê°ì‹œ ì˜ì—­ í‘œì‹œ.
#   - ì´ì „ ì˜¤íƒ€: `r = g_y + 1`ì´ ì•„ë‹ˆë¼ `r = g_x + 1`ì´ì–´ì•¼ í•¨ (í–‰Â·ì—´ í˜¼ë™).
#
# ğŸ“š ì‹œê°„Â·ê³µê°„ ë³µì¡ë„:
#   - ì‹œê°„ë³µì¡ë„: O(mn + |guards|Â·(m+n))
#       â€¢ grid ì´ˆê¸°í™” ë° count: O(mn)
#       â€¢ ê° ê²½ë¹„ ì‹œì•¼ í™•ì¥: ìµœëŒ€ (m+n)ì”©
#   - ê³µê°„ë³µì¡ë„: O(mn) (ê·¸ë¦¬ë“œ ì „ì²´ ìƒíƒœ ì €ì¥)
# -----------------------------------------------------
# (ì„ íƒ) ë‹¤ë¥¸ íš¨ìœ¨ì  í’€ì´ ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ì œì•ˆ:
#   - ê°™ì€ ì›ë¦¬ë¥¼ ì •ìˆ˜ ìƒíƒœ ì½”ë“œ(0,1,2)ë¡œ ë‹¨ìˆœí™”í•˜ë©´ ë¬¸ìì—´ ë¹„êµ ì˜¤ë²„í—¤ë“œ ê°ì†Œ.
#   - ë˜ëŠ” 4ë°© ìŠ¤ìœ•(ì¢Œâ†’ìš°, ìš°â†’ì¢Œ, ìƒâ†’í•˜, í•˜â†’ìƒ)ìœ¼ë¡œ í•œ ë²ˆì”©ë§Œ ê°ì‹œ ì˜ì—­ ê³„ì‚°(O(mn)).
