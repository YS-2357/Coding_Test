# 1015_Smallest_Integer_Divisible_by_K.py
# -----------------------------------------------------
# ✅ 제목: LeetCode 1015. Smallest Integer Divisible by K
# ✅ 문제 설명(요약):
#   - 숫자 1만으로 이루어진 수(111...1)를 "repunit"이라고 한다.
#   - K가 주어졌을 때, repunit 중에서 K로 나누어떨어지는 가장 짧은 길이를 찾는 문제.
#   - repunit의 실제 정수 크기는 매우 커질 수 있으므로 직접 만들지 않고,
#     ‘현재 값을 mod K로만’ 유지하면서 길이를 증가시키는 방식으로 해결해야 한다.
#
# ✅ 입력 형식(요지):
#   - k: int
#
# ✅ 규칙 요약:
#   - 2 또는 5로 나누어지는 k에 대해서는 어떤 repunit도 나누어떨어질 수 없으므로 즉시 -1.
#   - repunit R_n = (10 * R_{n-1} + 1) % k 로 갱신하며 길이 n을 증가.
#   - 처음으로 R_n % k == 0 이 되는 최소 n을 반환.

# ✅ 정답 코드(나의 풀이; 절대 수정 금지)
#   - mod K 상태만 유지하면서 repunit 길이를 증가시키는 전형적 접근.
#   - K % 2 == 0 또는 K % 5 == 0 인 경우만 사전 차단.

class Solution:
    def smallestRepunitDivByK(self, k: int) -> int:
        if k % 2 == 0 or k % 5 == 0:       # k가 2 또는 5의 배수면 절대로 111..1 형태의 수로 나누어떨어질 수 없음
            return -1
        
        ans, l = 1, 1                     # ans: 현재 repunit mod k, l: 길이
        while ans % k != 0:               # repunit R_l이 k로 안 나누어떨어지면 계속 반복
            ans *= 10                     # R_{l+1} = R_l * 10 + 1
            ans += 1
            ans %= k                      # overflow 방지 및 효율을 위해 mod만 유지
            l += 1                        # repunit의 길이 1 증가
            # print(ans, l)               # (디버깅용)
        return l                          # l이 곧 가장 짧은 repunit 길이

# -----------------------------------------------------
# 🔍 첫 시도 결과:
#   - mod만 추적하는 방식으로 즉시 정답 도출.
#   - 2 또는 5로 나누어지는 K 사전 차단이 핵심.

# 🔧 오답 이유 및 사용한 알고리즘 개념:
#   - 오답 없음.
#   - 핵심 개념:
#       1) 모듈러 누적:
#            R_n = (R_{n-1} * 10 + 1) % k
#         로 repunit을 실제로 구성하지 않고도 나머지만 추적 가능.
#       2) 수학적 성질:
#         - 2 또는 5의 배수인 K로는 111...1 형태가 절대 나누어지지 않음.
#       3) 순환 방지:
#         - mod k 값은 최대 k개 상태를 순환하므로 l은 k 이하에서 반드시 결정.

# 📚 시간·공간 복잡도:
#   - 시간: O(k)    (mod 상태는 최대 k번만 반복)
#   - 공간: O(1)    (상태값 ans, 길이 l만 유지)

# -----------------------------------------------------
# (선택) 다른 효율적 풀이 또는 알고리즘 제안:
#   - 수학적으로 동일한 방식이며, 별다른 최적화의 여지는 없음.
#   - BFS나 DP는 불필요하며 mod 기반 선형 탐색이 최적.
