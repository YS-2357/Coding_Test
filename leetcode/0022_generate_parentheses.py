# 0022_generate_parentheses.py
# -----------------------------------------------------
# âœ… ì œëª©: Generate Parentheses
# âœ… ë¬¸ì œ ì„¤ëª…(ìš”ì•½):
# - ì •ìˆ˜ nì´ ì£¼ì–´ì§ˆ ë•Œ, nìŒì˜ ì˜¬ë°”ë¥¸ ê´„í˜¸ ì¡°í•©ì„ ëª¨ë‘ ìƒì„±.
# - ì˜¬ë°”ë¥¸ ê´„í˜¸: ì—¬ëŠ” ê´„í˜¸ëŠ” í•­ìƒ ë‹«ëŠ” ê´„í˜¸ë³´ë‹¤ ë¨¼ì € ë“±ì¥í•´ì•¼ í•˜ë©°,
#   ë‹«ëŠ” ê´„í˜¸ ìˆ˜ëŠ” ì—¬ëŠ” ê´„í˜¸ ìˆ˜ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŒ.
#
# âœ… ì…ë ¥ í˜•ì‹(ìš”ì§€):
# - n: int (1 â‰¤ n â‰¤ 8)
#
# âœ… ê·œì¹™ ìš”ì•½:
# 1) ê¸¸ì´ 2nì˜ ë¬¸ìì—´ì„ ë§Œë“¤ì–´ì•¼ í•¨.
# 2) open < nì´ë©´ "(" ì¶”ê°€ ê°€ëŠ¥.
# 3) close < openì´ë©´ ")" ì¶”ê°€ ê°€ëŠ¥.
# 4) ê¸¸ì´ 2nì´ ë˜ë©´ ì •ë‹µì— ì¶”ê°€.
#
# âœ… ì…ì¶œë ¥ ì˜ˆì‹œ(1ê°œ):
# - n = 3 â†’ ["((()))","(()())","(())()","()(())","()()()"]
#
# âœ… ì •ë‹µ ì½”ë“œ(ë„ˆì˜ í’€ì´; í•œ ì¤„ë§ˆë‹¤ ì£¼ì„):
class Solution:
    def generateParenthesis(self, n: int) -> List[str]:
        answer = []                                # ê²°ê³¼ ì €ì¥ ë¦¬ìŠ¤íŠ¸
        def backtrack(cur, open, close):           # cur: í˜„ì¬ ë¬¸ìì—´, open/close: ì‚¬ìš©í•œ ê´„í˜¸ ìˆ˜
            if len(cur) == 2 * n:                  # ê¸¸ì´ê°€ 2nì´ë©´ ì™„ì„±
                answer.append(cur)
                return
            if open < n:                           # ì—¬ëŠ” ê´„í˜¸ ì¶”ê°€ ì¡°ê±´
                backtrack(cur + "(", open + 1, close)
            if close < open:                       # ë‹«ëŠ” ê´„í˜¸ ì¶”ê°€ ì¡°ê±´
                backtrack(cur + ")", open, close + 1)
        
        backtrack("", 0, 0)                        # ì´ˆê¸° ìƒíƒœì—ì„œ ì‹œì‘
        return answer                              # ëª¨ë“  ì¡°í•© ë°˜í™˜

# -----------------------------------------------------
# ğŸ” ì²« ì‹œë„ ê²°ê³¼:
# - ë°±íŠ¸ë˜í‚¹ ì¡°ê±´ì„ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„í•˜ì—¬ í†µê³¼.
#
# ğŸ”§ ì˜¤ë‹µ ë° ì‹¤ìˆ˜(ë¬´ì—‡ì„ í‹€ë ¸ê³  ì–´ë–»ê²Œ ê³ ì³¤ëŠ”ì§€):
# - íŠ¹ë³„í•œ ì˜¤ë¥˜ ì—†ìŒ. ë‹¤ë§Œ ë³€ìˆ˜ëª… open/closeëŠ” ì˜ˆì•½ì–´ì™€ í˜¼ë™ë  ìˆ˜ ìˆì–´ ë‹¤ë¥¸ ì´ë¦„ ì‚¬ìš© ê¶Œì¥.
#
# ğŸ“š ì‚¬ìš©ëœ/í•„ìˆ˜ ê°œë…(ìµœì†Œ):
# - ë°±íŠ¸ë˜í‚¹(backtracking)ìœ¼ë¡œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ íƒìƒ‰
# - ê´„í˜¸ ì§ ì¡°ê±´(open â‰¤ n, close â‰¤ open) ìœ ì§€
# - ì‹œê°„ë³µì¡ë„: O(C_n * n), C_nì€ në²ˆì§¸ ì¹´íƒˆë€ ìˆ˜
