# 3047_Find the Largest Area of Square Inside Two Rectangles.py
# -----------------------------------------------------
# ✅ 제목: LeetCode 3047. Find the Largest Area of Square Inside Two Rectangles
# 🏷️ 유형: 기하 / 브루트포스 / 교집합
#
# ✅ 문제 설명(요약):
#   - 여러 직사각형이 주어질 때, 서로 다른 두 직사각형을 선택한다.
#   - 두 직사각형의 교집합 영역 내부에 들어갈 수 있는 정사각형의 최대 넓이를 구한다.
#   - 가능한 최대 정사각형 넓이를 반환한다.
#
# ✅ 입력 형식(요지):
#   - bl: 각 직사각형의 좌하단 좌표 리스트 [[x, y], ...]
#   - tr: 각 직사각형의 우상단 좌표 리스트 [[x, y], ...]
#
# ✅ 규칙 요약:
#   - i번째 직사각형은 bl[i]가 좌하단, tr[i]가 우상단인 축 정렬 직사각형이다.
#   - 두 직사각형의 교집합이 존재할 때만 정사각형을 넣을 수 있다.
#   - 교집합의 가로/세로 길이 중 작은 값이 가능한 정사각형의 최대 한 변 길이가 된다.
#
# 🧠 핵심 불변식(Invariant):
#   - 두 직사각형의 교집합은 좌표 범위를 각각 max(좌하단), min(우상단)으로 계산할 수 있다.
#   - 교집합이 유효(minX < maxX 그리고 minY < maxY)하면, 최대 정사각형 변 길이는 min(교집합 가로, 교집합 세로)이다.
#   - 모든 쌍을 검사하며 최대 변 길이를 갱신하면 최대 넓이를 얻는다.
#
# ✅ 정답 코드(나의 풀이; 절대 수정 금지)

class Solution:                                                              # LeetCode 제출 형식에 맞춘 Solution 클래스 정의
    def largestSquareArea(self, bl: List[List[int]], tr: List[List[int]]) -> int:  # 두 직사각형 교집합 내부 최대 정사각형 넓이를 반환하는 함수
        s = 0                                                                # 최대 정사각형의 한 변 길이를 저장할 변수 초기화
        n = len(bl)                                                          # 직사각형 개수를 저장

        for i in range(n):                                                   # 첫 번째 직사각형 인덱스 i를 순회
            for j in range(i + 1, n):                                        # 두 번째 직사각형 인덱스 j를 i보다 크게 순회
                minX = max(bl[i][0], bl[j][0])                               # 교집합의 좌측 x좌표를 두 좌하단 x 중 큰 값으로 설정
                maxX = min(tr[i][0], tr[j][0])                               # 교집합의 우측 x좌표를 두 우상단 x 중 작은 값으로 설정
                minY = max(bl[i][1], bl[j][1])                               # 교집합의 하단 y좌표를 두 좌하단 y 중 큰 값으로 설정
                maxY = min(tr[i][1], tr[j][1])                               # 교집합의 상단 y좌표를 두 우상단 y 중 작은 값으로 설정

                if minX < maxX and minY < maxY:                              # 교집합이 실제 면적을 가지는지(가로/세로 양수) 확인
                    length = min(maxX - minX, maxY - minY)                   # 교집합 가로/세로 중 작은 값을 정사각형 최대 변 길이로 선택
                    s = max(s, length)                                       # 최대 변 길이를 갱신하여 더 큰 정사각형을 추적

        return s * s                                                         # 최대 변 길이의 제곱을 정답(최대 넓이)으로 반환

# -----------------------------------------------------
# 🔍 첫 시도 결과:
#   - 첫 제출에서 정답 처리됨 (Accepted).
#
# 🔧 오답 이유 및 사용한 알고리즘 개념:
#   - 오답 없음.
#   - 사용 개념: 직사각형 교집합 계산, 모든 쌍 브루트포스 탐색.
#
# 📚 시간·공간 복잡도:
#   - 시간: O(n^2)  (직사각형 쌍을 모두 검사)
#   - 공간: O(1)    (상수 변수만 사용)
#
# -----------------------------------------------------
# (선택) 다른 효율적 풀이 또는 알고리즘 제안:
#   - n이 매우 큰 변형 문제라면, 좌표 정렬/스위프 라인으로 후보 쌍을 줄이는 접근도 가능하나
#     본 풀이처럼 단순한 쌍 검사 방식이 가장 직관적이다.
