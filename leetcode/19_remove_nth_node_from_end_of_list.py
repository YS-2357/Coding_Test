# 19_remove_nth_node_from_end_of_list.py
# -----------------------------------------------------
# âœ… ì œëª©: Remove Nth Node From End of List
# âœ… ë¬¸ì œ ì„¤ëª…(ìš”ì•½):
# - ë‹¨ì¼ ì—°ê²° ë¦¬ìŠ¤íŠ¸ headê°€ ì£¼ì–´ì§„ë‹¤.
# - ëì—ì„œ në²ˆì§¸ ë…¸ë“œë¥¼ ì‚­ì œí•œ ë’¤ ë¦¬ìŠ¤íŠ¸ì˜ headë¥¼ ë°˜í™˜í•œë‹¤.
#
# âœ… ì…ë ¥ í˜•ì‹(ìš”ì§€):
# - head: ListNode (ë‹¨ì¼ ì—°ê²° ë¦¬ìŠ¤íŠ¸ì˜ ì‹œì‘ ë…¸ë“œ)
# - n: int (1 â‰¤ n â‰¤ ë¦¬ìŠ¤íŠ¸ ê¸¸ì´)
#
# âœ… ê·œì¹™ ìš”ì•½:
# 1) ëì—ì„œ në²ˆì§¸ ë…¸ë“œë¥¼ ì‚­ì œ.
# 2) head ìì²´ê°€ ì‚­ì œë  ìˆ˜ë„ ìˆìŒ â†’ dummy ë…¸ë“œë¥¼ ì•ì— ì¶”ê°€í•´ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬.
# 3) íˆ¬í¬ì¸í„° ì‚¬ìš©:
#    - fastë¥¼ nì¹¸ ë¨¼ì € ì´ë™.
#    - slowì™€ fastë¥¼ ê°™ì´ ì´ë™.
#    - fastê°€ ëì— ë„ì°©í•˜ë©´ slowëŠ” ì‚­ì œí•  ë…¸ë“œì˜ ì§ì „ ìœ„ì¹˜ì— ìˆìŒ.
# 4) slow.next = slow.next.nextë¡œ ì‚­ì œ ìˆ˜í–‰.
#
# âœ… ì…ì¶œë ¥ ì˜ˆì‹œ(1ê°œ):
# - head = [1,2,3,4,5], n=2
#   â†’ ì‚­ì œ: ê°’ 4 ë…¸ë“œ â†’ ê²°ê³¼ [1,2,3,5]
#
# âœ… ì •ë‹µ ì½”ë“œ(ë„ˆì˜ í’€ì´; í•œ ì¤„ë§ˆë‹¤ ì£¼ì„):
class Solution:
    def removeNthFromEnd(self, head: Optional[ListNode], n: int) -> Optional[ListNode]:
        dummy = ListNode(0, head)              # head ì•ì— dummy ì¶”ê°€
        slow = dummy                           # slowëŠ” dummyì—ì„œ ì‹œì‘
        fast = head                            # fastëŠ” headì—ì„œ ì‹œì‘

        for _ in range(n):                     # fastë¥¼ nì¹¸ ë¨¼ì € ì „ì§„
            fast = fast.next

        while fast:                            # fastê°€ ëì— ë„ë‹¬í•  ë•Œê¹Œì§€
            slow = slow.next                   # slowì™€ fastë¥¼ ë™ì‹œì— ì „ì§„
            fast = fast.next

        slow.next = slow.next.next             # slow ë‹¤ìŒ ë…¸ë“œ ì‚­ì œ
        return dummy.next                      # headê°€ ì‚­ì œë  ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ dummy.next ë°˜í™˜

# -----------------------------------------------------
# ğŸ” ì²« ì‹œë„ ê²°ê³¼:
# - ë‹¤ì–‘í•œ ì…ë ¥(head ì‚­ì œ í¬í•¨)ì—ì„œë„ ì •ìƒ ì‘ë™.
#
# ğŸ”§ ì˜¤ë‹µ ë° ì‹¤ìˆ˜(ë¬´ì—‡ì„ í‹€ë ¸ê³  ì–´ë–»ê²Œ ê³ ì³¤ëŠ”ì§€):
# - (ì´ˆì•ˆ) slowë¥¼ dummyì™€ ì—°ê²°í•˜ì§€ ì•Šê³  ListNode(0, head)ë¡œë§Œ ë‘  â†’ ë¦¬ìŠ¤íŠ¸ì™€ ì—°ê²°ë˜ì§€ ì•Šì•„ ì‚­ì œ ìœ„ì¹˜ ê³„ì‚° ì‹¤íŒ¨.
# - (ìˆ˜ì •) dummy ë…¸ë“œ ìƒì„± í›„ slow=dummyë¡œ ì„¤ì •, ë§ˆì§€ë§‰ ë°˜í™˜ë„ dummy.nextë¡œ êµì²´.
#
# ğŸ“š ì‚¬ìš©ëœ/í•„ìˆ˜ ê°œë…(ìµœì†Œ):
# - íˆ¬ í¬ì¸í„°(two pointers): fast-slow ê¸°ë²•
# - dummy ë…¸ë“œ: head ì‚­ì œ ì¼€ì´ìŠ¤ ì•ˆì „ ì²˜ë¦¬
# - ì‹œê°„ë³µì¡ë„ O(L), ê³µê°„ë³µì¡ë„ O(1)
