# 0015_3sum.py
# -----------------------------------------------------
# âœ… ì œëª©: 3Sum
# âœ… ë¬¸ì œ ì„¤ëª…(ìš”ì•½):
# - ì •ìˆ˜ ë°°ì—´ numsì—ì„œ í•©ì´ 0ì´ ë˜ëŠ” ì„œë¡œ ë‹¤ë¥¸ ì„¸ ìˆ˜ì˜ ì¡°í•©ì„ ëª¨ë‘ ì°¾ì•„ ë°˜í™˜í•œë‹¤.
# - ê²°ê³¼ ë‚´ ì¤‘ë³µ ì¡°í•©ì€ í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤(ê°’/ì¸ë±ìŠ¤ ì¤‘ë³µ ì œê±° í•„ìš”).
#
# âœ… ì…ë ¥ í˜•ì‹(ìš”ì§€):
# - nums: List[int], ê¸¸ì´ n (n â‰¥ 3)
#
# âœ… ê·œì¹™ ìš”ì•½:
# 1) ë°°ì—´ì„ ì •ë ¬í•˜ì—¬ ì¤‘ë³µ ìŠ¤í‚µê³¼ íˆ¬ í¬ì¸í„° ì ìš©ì„ ìˆ˜ì›”í•˜ê²Œ í•œë‹¤.
# 2) ië¥¼ ê³ ì •í•˜ê³  left/rightë¡œ ë‘ í¬ì¸í„°ë¥¼ ì¢í˜€ê°€ë©° í•©ì„ í™•ì¸í•œë‹¤.
# 3) i, left, right ê°ê°ì— ëŒ€í•´ ê°™ì€ ê°’ì€ ìŠ¤í‚µí•˜ì—¬ ì¤‘ë³µ ì¡°í•©ì„ ì œê±°í•œë‹¤.
# 4) ê·¸ë¦¬ë”” ê°€ì§€ì¹˜ê¸°(pruning)ë¡œ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ë¥¼ ë¹ ë¥´ê²Œ ê±´ë„ˆë›´ë‹¤.
#
# âœ… ì…ì¶œë ¥ ì˜ˆì‹œ(1ê°œ):
# - nums = [-1,0,1,2,-1,-4] â†’ [[-1,-1,2], [-1,0,1]]
#
# âœ… ì •ë‹µ ì½”ë“œ(ë„ˆì˜ í’€ì´; í•œ ì¤„ë§ˆë‹¤ ì£¼ì„):
class Solution:
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        nums.sort()                                   # ì •ë ¬: ì¤‘ë³µ ìŠ¤í‚µ/íˆ¬í¬ì¸í„° ì „ì œ
        n = len(nums)
        answer = []

        for i in range(n-2):                          # iëŠ” 0..n-3ê¹Œì§€
            if i > 0 and nums[i] == nums[i-1]:       # ê°™ì€ ì‹œì‘ ê°’ì€ í•œ ë²ˆë§Œ ì‚¬ìš©(ì¤‘ë³µ ì œê±°)
                continue
                
            if nums[i] > 0: break                     # iê°€ ì–‘ìˆ˜ë©´ ì´í›„ í•©ì´ 0 ë¶ˆê°€ â†’ ì¢…ë£Œ
            if nums[i] + nums[i+1] + nums[i+2] > 0:  # ìµœì†Œ í•©ì´ 0ë³´ë‹¤ í¬ë©´ ë” ì§„í–‰ ë¶ˆí•„ìš”
                break
            if nums[i] + nums[n-2] + nums[n-1] < 0:  # ìµœëŒ€ í•©ì´ 0ë³´ë‹¤ ì‘ìœ¼ë©´ ë‹¤ìŒ ië¡œ
                continue

            left, right = i + 1, n - 1               # íˆ¬ í¬ì¸í„° ì´ˆê¸°í™”
            
            while left < right:
                s = nums[i] + nums[left] + nums[right]  # í˜„ì¬ í•©

                if s == 0:
                    answer.append([nums[i], nums[left], nums[right]])  # ì •ë‹µ ì¶”ê°€
                    left += 1
                    right -= 1
                    # left/right ì¤‘ë³µ ê°’ ìŠ¤í‚µ
                    while left < right and nums[left] == nums[left - 1]:
                        left += 1
                    while left < right and nums[right] == nums[right + 1]:
                        right -= 1
                elif s < 0:
                    left += 1                          # í•©ì„ í‚¤ìš°ê¸° ìœ„í•´ left ì´ë™
                else:
                    right -= 1                         # í•©ì„ ì¤„ì´ê¸° ìœ„í•´ right ì´ë™

        return answer                                  # ëª¨ë“  ì¡°í•© ë°˜í™˜

# -----------------------------------------------------
# ğŸ” ì²« ì‹œë„ ê²°ê³¼:
# - while ë°–ì—ì„œ së¥¼ ê³ ì •í•˜ê±°ë‚˜, ì¤‘ë³µ ìŠ¤í‚µ/í”„ë£¨ë‹ì´ ë¶€ì¡±í•´ ëˆ„ë½Â·ì¤‘ë³µÂ·ì‹œê°„ë‚­ë¹„ ë°œìƒ ê°€ëŠ¥.
#
# ğŸ”§ ì˜¤ë‹µ ë° ì‹¤ìˆ˜(ë¬´ì—‡ì„ í‹€ë ¸ê³  ì–´ë–»ê²Œ ê³ ì³¤ëŠ”ì§€):
# - (ì´ì „) së¥¼ ë£¨í”„ ë‚´ì—ì„œ ë§¤ë²ˆ ì¬ê³„ì‚°í•˜ì§€ ì•ŠìŒ â†’ í¬ì¸í„° ì´ë™ í›„ í•© ë¶ˆì¼ì¹˜.
# - (ì´ì „) ì •ë‹µ ë°œê²¬ í›„ í¬ì¸í„° í•˜ë‚˜ë§Œ ì´ë™ â†’ ë™ì¼ ì¡°í•© ë°˜ë³µ/ì¤‘ë³µ ë°œìƒ.
# - (ê°œì„ ) i/left/right ì¤‘ë³µ ìŠ¤í‚µ ì¶”ê°€, ì¡°ê¸° ì¢…ë£ŒÂ·ê±´ë„ˆë›°ê¸° í”„ë£¨ë‹ìœ¼ë¡œ ìƒìˆ˜ ì‹œê°„ ì ˆì•½.
#
# ğŸ“š ì‚¬ìš©ëœ/í•„ìˆ˜ ê°œë…(ìµœì†Œ):
# - ì •ë ¬(Sorting) + íˆ¬ í¬ì¸í„°(Two Pointers)
# - ì¤‘ë³µ ì œê±° ë¤í”„(same value skip), ê°€ì§€ì¹˜ê¸°(pruning)
# - ì‹œê°„ë³µì¡ë„: O(n^2), ê³µê°„ë³µì¡ë„: O(1) (ì •ë‹µ ì €ì¥ ì œì™¸)
