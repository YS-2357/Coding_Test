# 0016_3sum_closest.py
# -----------------------------------------------------
# β… μ λ©: 3Sum Closest
# β… λ¬Έμ  μ„¤λ…(μ”μ•½):
# - μ •μ λ°°μ—΄ numsμ™€ μ •μ targetμ΄ μ£Όμ–΄μ§ λ•,
#   nums[i] + nums[j] + nums[k]μ ν•©μ΄ targetμ— κ°€μ¥ κ°€κΉμ΄ κ°’μ„ λ°ν™ν•λ‹¤.
# - μ •ν™•ν targetμ„ λ§λ“¤ μ μμΌλ©΄ κ·Έ κ°’μ„ μ¦‰μ‹ λ°ν™ν•΄λ„ λλ‹¤.
#
# β… μ…λ ¥ ν•μ‹(μ”μ§€):
# - nums: List[int], κΈΈμ΄ n (n β‰¥ 3)
# - target: int
#
# β… κ·μΉ™ μ”μ•½:
# 1) λ°°μ—΄μ„ μ •λ ¬ν•λ‹¤.
# 2) iλ¥Ό κ³ μ •ν•κ³ , λ‚λ¨Έμ§€λ¥Ό left/right ν¬ ν¬μΈν„°λ΅ μ¤μΊ”ν•λ‹¤.
# 3) ν„μ¬ ν•© sμ™€ targetμ μ°¨μ΄ |target - s|κ°€ λ” μ‘μΌλ©΄ μ •λ‹µ κ°±μ‹ .
# 4) s < target β†’ left++ (ν•©μ„ ν‚¤μ›€), s > target β†’ right-- (ν•©μ„ μ¤„μ„)
# 5) s == targetμ΄λ©΄ λ°”λ΅ λ°ν™(μµμ ).
#
# β… μ…μ¶λ ¥ μμ‹(1κ°):
# - nums = [-1,2,1,-4], target = 1 β†’ 2   (μ΅°ν•©: -1 + 2 + 1 = 2)
#
# β… μ •λ‹µ μ½”λ“(λ„μ ν’€μ΄; ν• μ¤„λ§λ‹¤ μ£Όμ„):
class Solution:
    def threeSumClosest(self, nums: List[int], target: int) -> int:
        nums.sort()                              # μ •λ ¬λ΅ ν¬ ν¬μΈν„° μ „μ  λ§λ ¨
        n = len(nums)
        answer = None                            # ν„μ¬κΉμ§€ κ°€μ¥ κ°€κΉμ΄ ν•©
        best_diff = float("inf")                 # ν„μ¬κΉμ§€μ μµμ† |target - s|

        for i in range(n - 2):                   # i κ³ μ •: 0..n-3
            left, right = i + 1, n - 1           # μ–‘λ ν¬μΈν„°

            while left < right:
                s = nums[i] + nums[left] + nums[right]  # ν„μ¬ ν•©
                diff = target - s                        # μ–‘μλ©΄ sκ°€ μ‘μ, μμλ©΄ sκ°€ νΌ

                if abs(diff) < best_diff:       # λ” κ°€κΉμ°λ©΄ μ •λ‹µ κ°±μ‹ 
                    best_diff = abs(diff)
                    answer = s

                if diff == 0:                   # μ •ν™•ν μΌμΉ β†’ μµμ ν•΄
                    return s
                elif diff > 0:                  # s < target β†’ λ” ν¬κ²
                    left += 1
                else:                           # s > target β†’ λ” μ‘κ²
                    right -= 1

        return answer                           # κ°€μ¥ κ°€κΉμ΄ ν•© λ°ν™

# -----------------------------------------------------
# π” μ²« μ‹λ„ κ²°κ³Ό:
# - "λ” κ°€κΉμ›μ§ λ•λ§ ν¬μΈν„° μ΄λ™"μΌλ΅ μ‘μ„±ν•΄ λ¬΄ν•λ£¨ν”„(TLE) λ°μƒ κ°€λ¥.
#
# π”§ μ¤λ‹µ λ° μ‹¤μ(λ¬΄μ—‡μ„ ν‹€λ Έκ³  μ–΄λ–»κ² κ³ μ³¤λ”μ§€):
# - (μ΄μ „) ν¬μΈν„° μ΄λ™ μ΅°κ±΄μ„ "|target - s|κ°€ μ¤„μ–΄λ“  κ²½μ°"μ— μΆ…μ†
#   β†’ λ™μΌ/μ•…ν™” μ‹ ν¬μΈν„°κ°€ λ©μ¶° while λ¬΄ν• λ°λ³µ.
#   β†’ (μμ •) "μ •λ‹µ κ°±μ‹ "κ³Ό "ν¬μΈν„° μ΄λ™"μ„ λ¶„λ¦¬:
#      - κ°±μ‹ μ€ λ” κ°€κΉμ›μ§ λ•λ§,
#      - μ΄λ™μ€ sμ™€ targetμ λ€μ† λΉ„κµμ— λ”°λΌ **ν•­μƒ** μν–‰.
#
# π“ μ‚¬μ©λ/ν•„μ κ°λ…(μµμ†):
# - μ •λ ¬ + ν¬ ν¬μΈν„°λ΅ O(n^2) νƒμƒ‰
# - μ λ€μ°¨(minimize |target - s|) κ°±μ‹  ν¨ν„΄
# - μ΅°κΈ° μΆ…λ£(s == target)
# - μ‹κ°„λ³µμ΅λ„: O(n^2), κ³µκ°„λ³µμ΅λ„: O(1)
