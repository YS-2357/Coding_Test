# 백준 10972번: 다음 순열
# 문제 설명:
# 현재 주어진 순열의 "다음 순열"을 찾는 문제.
# - 다음 순열이 존재하면 이를 출력한다.
# - 존재하지 않으면 "-1"을 출력한다.

# 입력 형식:
# - 첫 번째 줄에 정수 N이 주어진다. (1 ≤ N ≤ 10,000)
# - 두 번째 줄에 1부터 N까지의 숫자로 이루어진 순열이 주어진다.

# 출력 형식:
# - 입력된 순열의 "다음 순열"을 출력하거나, 존재하지 않으면 "-1"을 출력한다.

# 예제 입력 1:
# 4
# 1 2 3 4
# 예제 출력 1:
# 1 2 4 3

# 예제 입력 2:
# 5
# 5 4 3 2 1
# 예제 출력 2:
# -1

import sys

# ✅ 입력 처리
N = int(sys.stdin.readline())
nums = list(map(int, sys.stdin.readline().split()))

# ✅ 다음 순열을 찾는 함수
def find_next(nums):
    # 1️⃣ 뒤에서부터 nums[i] < nums[i+1]이 처음 등장하는 i 찾기
    for i in range(N-2, -1, -1):
        if nums[i] < nums[i + 1]:
            # 2️⃣ i보다 오른쪽에서 nums[i]보다 큰 값 중 가장 작은 값 찾기
            for j in range(N-1, i, -1):
                if nums[i] < nums[j]:
                    nums[i], nums[j] = nums[j], nums[i]  # ✅ 교환
                    break
            # 3️⃣ i+1부터 끝까지 오름차순 정렬
            nums[i+1:] = reverse(nums[i+1:])
            print(*nums)
            return
    
    # 4️⃣ 다음 순열이 존재하지 않는 경우 -1 출력
    print(-1)

# ✅ 실행
find_next(nums)


# -----------------------------------------------------
# ❌ 내가 처음 쓴 코드부터 맞을 때까지 틀렸던 점

# 1. ✅ `nums[i] < nums[i+1]`을 찾은 후 단순히 뒤집기만 함 (5번째 줄)
#    - 기존 코드:
#      ```python
#      if nums[i] < nums[i + 1]:
#          nums[i+1:] = reversed(nums[i+1:])
#      ```
#    - ❌ 문제점: 단순히 뒤집는 것은 항상 올바른 다음 순열을 만들지 못함.
#    - ✅ 수정: `nums[i]`보다 큰 값 중 **가장 작은 값**을 찾아 교환한 후, `i+1:`을 오름차순 정렬.

# 2. ✅ 변수명 오타 (`num[i+1:]` → `nums[i+1:]`) (10번째 줄)
#    - 기존 코드:
#      ```python
#      nums[i+1:] = sorted(num[i+1:])
#      ```
#    - ❌ 문제점: `num`은 존재하지 않는 변수.
#    - ✅ 수정: `nums[i+1:] = sorted(nums[i+1:])`

# 3. ✅ `-1` 출력 위치 오류 (14번째 줄)
#    - 기존 코드:
#      ```python
#      print(-1)  # ❌ for문 내부에 있어 다음 순열이 있음에도 -1을 출력하는 경우가 발생
#      ```
#    - ❌ 문제점: `-1`은 **루프가 끝난 후에도 `nums[i] < nums[i+1]`을 찾지 못한 경우**에만 출력해야 함.
#    - ✅ 수정: `for` 루프가 끝난 후 `print(-1)` 실행.

# ✅ 위 수정 후 실행하면 백준에서 정답 판정! 🚀 
