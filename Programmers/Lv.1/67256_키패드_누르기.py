# 67256_í‚¤íŒ¨ë“œ_ëˆ„ë¥´ê¸°.py
# -----------------------------------------------------
# âœ… ì œëª©: í‚¤íŒ¨ë“œ ëˆ„ë¥´ê¸° â€” í˜„ì¬ ì† ìœ„ì¹˜ì™€ ëª©í‘œ ì¢Œí‘œì˜ ë§¨í•´íŠ¼ ê±°ë¦¬ ë¹„êµ
# âœ… ë¬¸ì œ ì„¤ëª…(ìš”ì•½):
# - ìˆ«ì ë°°ì—´ numbersë¥¼ ì™¼ì†/ì˜¤ë¥¸ì†ìœ¼ë¡œ ëˆ„ë¥´ë©°, 1/4/7ì€ L, 3/6/9ëŠ” R ê³ ì •.
# - 2/5/8/0ì€ ì–‘ì† ì¤‘ ë” ê°€ê¹Œìš´ ì†, ê°™ìœ¼ë©´ hand(â€œleftâ€/â€œrightâ€) ì„ í˜¸ì— ë”°ë¦„.
# - ê° ì„ íƒ í›„ í•´ë‹¹ ì†ì˜ ìœ„ì¹˜ë¥¼ ê·¸ ìˆ«ì ì¢Œí‘œë¡œ ê°±ì‹ .
#
# âœ… ì…ë ¥ í˜•ì‹(ìš”ì§€):
# - numbers: List[int], hand: str ("left" ë˜ëŠ” "right")
#
# âœ… ê·œì¹™ ìš”ì•½:
# - í‚¤íŒ¨ë“œ ì¢Œí‘œ ë§¤í•‘ í›„, ë§¤ ìˆ˜ë§ˆë‹¤ LÂ·R ê³ ì • ì—´ì€ ì¦‰ì‹œ ê²°ì •.
# - ê°€ìš´ë° ì—´ì€ ë§¨í•´íŠ¼ ê±°ë¦¬ ë¹„êµ â†’ ë™ë¥  ì‹œ hand ì„ í˜¸.
# - ì„ íƒí•œ ì†ì˜ ì¢Œí‘œë¥¼ ì—…ë°ì´íŠ¸í•˜ë©° ë¬¸ìì—´ë¡œ ëˆ„ì  ë°˜í™˜.
#
# âœ… ì…ì¶œë ¥ ì˜ˆì‹œ(ê°„ë‹¨):
# - numbers=[1,3,4,5,8,2,1,4,5,9,5], hand="right"
#   â†’ "LRLLLRLLRRL"

def solution(numbers, hand):
    answer = ''
    pos = {
        1: (0,0), 2: (0,1), 3: (0,2),
        4: (1,0), 5: (1,1), 6: (1,2),
        7: (2,0), 8: (2,1), 9: (2,2),
        0: (3, 1)
    }
    lx, ly, rx, ry = 3, 0, 3, 2
    
    for num in numbers:
        x, y = pos[num]
        if num == 1 or num == 4 or num == 7:
            answer += 'L'
            lx, ly = x, y
        elif num == 3 or num == 6 or num == 9:
            answer += 'R'
            rx, ry = x, y
        else:
            ld = (abs(lx - x) + abs(ly - y)) 
            rd = (abs(rx - x) + abs(ry - y)) 
            if ld == rd:
                if hand == "right":
                    answer += "R"
                    rx, ry = x, y
                else:
                    answer += "L"
                    lx, ly = x, y
            elif ld > rd:
                answer += "R"
                rx, ry = x, y
            else:
                answer += "L"
                lx, ly = x, y
            
    return answer

# -----------------------------------------------------
# ğŸ” ì²« ì‹œë„ ê²°ê³¼:
# - í•œ ë²ˆì— ì •ë‹µ **ë„ë‹¬**
#
# ğŸ“š ê¼­ í•„ìš”í•œ ê°œë… & ì‚¬ìš© ê°œë…(ìµœì†Œ):
# - í‚¤íŒ¨ë“œ ìˆ«ìâ†’ì¢Œí‘œ ë”•ì…”ë„ˆë¦¬ ë§¤í•‘
# - ì™¼ì†/ì˜¤ë¥¸ì† í˜„ì¬ ì¢Œí‘œ ìœ ì§€
# - ë§¨í•´íŠ¼ ê±°ë¦¬ ë¹„êµ, ë™ë¥  ì‹œ hand ì„ í˜¸ ë°˜ì˜
# - ì„ íƒ í›„ í•´ë‹¹ ì† ìœ„ì¹˜ ê°±ì‹ 

# -----------------------------------------------------
# ë‹¤ë¥¸ í’€ì´
# def solution(numbers, hand):
#     # ìˆ«ìâ†’ì¢Œí‘œ ë§¤í•‘(ë¦¬ìŠ¤íŠ¸ ì¸ë±ìŠ¤ í™œìš©; 0ì€ ì¸ë±ìŠ¤ 0ì— ë„£ê¸° ìœ„í•´ ë§¨ ì•ì— ë‘ )
#     pos = [(3,1),  # 0
#            (0,0), (0,1), (0,2),
#            (1,0), (1,1), (1,2),
#            (2,0), (2,1), (2,2)]
#     left_col  = {1, 4, 7}
#     right_col = {3, 6, 9}
#     prefer_right = (hand == "right")

#     lx, ly = 3, 0  # '*' ì‹œì‘
#     rx, ry = 3, 2  # '#' ì‹œì‘
#     out = []

#     for num in numbers:
#         # ì¢Œ/ìš° ê³ ì • ì—´ ì²˜ë¦¬
#         if num in left_col:
#             lx, ly = pos[num]
#             out.append('L')
#             continue
#         if num in right_col:
#             rx, ry = pos[num]
#             out.append('R')
#             continue

#         # ê°€ìš´ë° ì—´: ê±°ë¦¬ ë¹„êµ
#         tx, ty = pos[num]
#         ld = abs(lx - tx) + abs(ly - ty)
#         rd = abs(rx - tx) + abs(ry - ty)

#         if ld < rd or (ld == rd and not prefer_right):
#             lx, ly = tx, ty
#             out.append('L')
#         else:
#             rx, ry = tx, ty
#             out.append('R')

#     return ''.join(out)
