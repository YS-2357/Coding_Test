# 118667_λ‘_ν_ν•©_κ°™κ²_λ§λ“¤κΈ°.py
# -----------------------------------------------------
# β… μ λ©: λ‘ ν ν•© κ°™κ² λ§λ“¤κΈ°
# β… λ¬Έμ  μ„¤λ…(μ”μ•½):
# - λ‘ νμ ν•©μ„ κ°™κ² λ§λ“¤κΈ° μ„ν•΄, ν•μ½ νμ λ§¨ μ• μ›μ†λ¥Ό κΊΌλ‚΄ λ‹¤λ¥Έ ν λ’¤μ— λ„£λ” μ—°μ‚°μ„ μν–‰.
# - μµμ† μ—°μ‚° νμλ¥Ό κµ¬ν•κ³ , λ¶κ°€λ¥ν•λ©΄ -1μ„ λ°ν™.

# β… μ…λ ¥ ν•μ‹(μ”μ§€):
# - queue1, queue2: κΈΈμ΄ κ°™μ€ μ •μ λ°°μ—΄ (1 β‰¤ μ›μ† β‰¤ 10^9, κΈΈμ΄ β‰¤ 300,000)

# β… κ·μΉ™ μ”μ•½:
# 1) μ „μ²΄ ν•©μ΄ ν™€μλ©΄ λ¶κ°€λ¥ β†’ -1
# 2) λ©ν‘ ν•© target = total//2
# 3) s1 > target β†’ queue1μ—μ„ pop β†’ queue2μ— push
#    s1 < target β†’ queue2μ—μ„ pop β†’ queue1μ— push
# 4) ν¬μΈν„°(i, j)λ΅ μ‹λ®¬λ μ΄μ…ν•λ©° ν•©μ„ κ°±μ‹ 
# 5) μ ν• νμ λ„μ–΄κ°€λ©΄ λ¶κ°€λ¥ μ²λ¦¬

# β… μ •λ‹µ μ½”λ“(λ‚μ ν’€μ΄; ν• μ¤„λ§λ‹¤ μ£Όμ„)
def solution(queue1, queue2):
    s1, s2 = sum(queue1), sum(queue2)        # μ΄κΈ° ν•©
    if s1 == s2:                             # μ΄λ―Έ κ°™μΌλ©΄ 0
        return 0
    
    total = s1 + s2
    if total % 2 == 1:                       # μ „μ²΄ ν•© ν™€μλ©΄ λ¶κ°€λ¥
        return -1
    
    answer = 0
    target = total // 2                      # λ©ν‘ ν•©
    i, j, n = 0, len(queue1), len(queue1) + len(queue2)
    arr = queue1 + queue2                    # λ‘ ν μ΄μ–΄λ¶™μ—¬ λ°°μ—΄λ΅ κ΄€λ¦¬
    
    while i < n and j < n:                   # λ‘ ν¬μΈν„° λ¨λ‘ λ²”μ„ λ‚΄μ—μ„ λ°λ³µ
        if s1 == target:                     # ν•©μ΄ λ§μΌλ©΄ μΆ…λ£
            return answer
        elif s1 > target:                    # ν1μ΄ ν¬λ©΄ i ν¬μΈν„° μ΄λ™
            s1 -= arr[i]
            i += 1
            answer += 1
        else:                                # ν1μ΄ μ‘μΌλ©΄ j ν¬μΈν„° μ΄λ™
            s1 += arr[j]
            j += 1
            answer += 1
    
    return -1                                # λκΉμ§€ μ• λ§μΌλ©΄ λ¶κ°€λ¥

# -----------------------------------------------------
# π” μ²« μ‹λ„ κ²°κ³Ό:
# - ν•©μ΄ λ™μΌν•λ©΄ μ¦‰μ‹ 0 λ°ν™.
# - ν¬μΈν„°λ΅ μ›μ† μ΄λ™μ„ μ‹λ®¬λ μ΄μ…ν•λ©° ν•©μ„ μ΅°μ •.
# - μ •μƒμ μΌλ΅ μµμ† μ—°μ‚° νμ μ¶λ ¥.

# π”§ μ¤λ‹µ λ° μ‹¤μ(λ¬΄μ—‡μ„ ν‹€λ Έκ³  μ–΄λ–»κ² κ³ μ³¤λ”μ§€):
# - μ΄κΈ°μ—λ” deque pop/append λ°©μ‹λ§ κ³ λ ¤ν–μΌλ‚ O(N^2) μ„ν— β†’ ν¬μΈν„° λ°©μ‹μΌλ΅ μμ •.
# - total ν•© λ³€μ μ¤νƒ€(`tatal2`)κ°€ μμ—μ β†’ `s2`λ΅ μμ •.

# π“ μ‚¬μ©λ/ν•„μ κ°λ…:
# - ν¬ ν¬μΈν„°(μ¬λΌμ΄λ”© μλ„μ°) λ°©μ‹
# - ν•© μ΅°μ •μΌλ΅ λ©ν‘κ°’ λ„λ‹¬ μ—¬λ¶€ νλ‹¨
# - μ‹κ°„λ³µμ΅λ„ O(N), κ³µκ°„ O(N)

# π§  (μ„ νƒ) λ‹¤λ¥Έ ν¨μ¨μ μΈ ν’€μ΄ λλ” μ•κ³ λ¦¬μ¦ μ μ•:
# - dequeλ΅ μ§μ ‘ `popleft/append` μ—°μ‚° κµ¬ν„λ„ κ°€λ¥(O(N)), λ‹¤λ§ νμ΄μ¬μ—μ„λ” ν¬μΈν„° λ°©μ‹μ΄ λ” λΉ λ¦„.
# - μ¬λΌμ΄λ”© μλ„μ° κ΄€μ μΌλ΅λ„ ν•΄μ„ κ°€λ¥: arr λ‚΄μ—μ„ ν•©μ΄ targetμΈ κµ¬κ°„ μ°ΎκΈ° λ¬Έμ .
