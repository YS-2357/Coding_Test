# 92335_kì§„ìˆ˜ì—ì„œ_ì†Œìˆ˜_ê°œìˆ˜_êµ¬í•˜ê¸°.py
# -----------------------------------------------------
# âœ… ì œëª©: kì§„ìˆ˜ì—ì„œ ì†Œìˆ˜ ê°œìˆ˜ êµ¬í•˜ê¸°
# âœ… ë¬¸ì œ ì„¤ëª…(ìš”ì•½):
# - ì •ìˆ˜ nì„ kì§„ìˆ˜ë¡œ ë³€í™˜í•œë‹¤.
# - ë³€í™˜ëœ ë¬¸ìì—´ì„ '0'ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•œë‹¤.
# - ê° ì¡°ê°ì„ ì •ìˆ˜ë¡œ í•´ì„í–ˆì„ ë•Œ, ì†Œìˆ˜ì´ë©´ ì¹´ìš´íŠ¸í•œë‹¤.
# - ë‹¨, 1ê³¼ ë¹ˆ ë¬¸ìì—´ì€ ì œì™¸í•œë‹¤.
#
# âœ… ì…ë ¥ í˜•ì‹(ìš”ì§€):
# - n: int (1 â‰¤ n â‰¤ 1,000,000)
# - k: int (2 â‰¤ k â‰¤ 10)
#
# âœ… ê·œì¹™ ìš”ì•½:
# 1) kì§„ìˆ˜ ë³€í™˜: divmodë¡œ ëª«Â·ë‚˜ë¨¸ì§€ë¥¼ êµ¬í•´ ì•ì— ë¶™ì—¬ë‚˜ê°„ë‹¤.
# 2) '0'ìœ¼ë¡œ splití•œ ë’¤, ""ì™€ "1"ì€ ì œì™¸í•œë‹¤.
# 3) ë‚˜ë¨¸ì§€ë¥¼ intë¡œ ë°”ê¿” ì†Œìˆ˜ íŒì •.
# 4) ì†Œìˆ˜ ê°œìˆ˜ë¥¼ ë°˜í™˜.
#
# âœ… ì •ë‹µ ì½”ë“œ(ë„ˆì˜ í’€ì´; í•œ ì¤„ë§ˆë‹¤ ì£¼ì„):
def solution(n, k):
    answer = 0
    
    # 1) nì„ kì§„ìˆ˜ ë¬¸ìì—´ë¡œ ë³€í™˜
    k_num = ''
    while n > 0:                              # nì´ 0ì´ ë  ë•Œê¹Œì§€ ë‚˜ëˆ—ì…ˆ ë°˜ë³µ
        n, r = divmod(n, k)                   # ëª«ê³¼ ë‚˜ë¨¸ì§€
        k_num = str(r) + k_num                # ë‚˜ë¨¸ì§€ë¥¼ ì•ì— ë¶™ì—¬ ì—­ìˆœ ë³´ì •
    
    # 2) ì†Œìˆ˜ íŒë³„ í•¨ìˆ˜
    def is_prime(number):
        if number < 2:                        # 0ê³¼ 1ì€ ì†Œìˆ˜ê°€ ì•„ë‹˜
            return False
        for i in range(2, int(number ** 0.5) + 1):  # 2ë¶€í„° âˆšnumberê¹Œì§€ ë‚˜ëˆ ë³´ê¸°
            if number % i == 0:               # ë‚˜ëˆ  ë–¨ì–´ì§€ë©´ í•©ì„±ìˆ˜
                return False
        return True                           # ìœ„ ì¡°ê±´ì— ì•ˆ ê±¸ë¦¬ë©´ ì†Œìˆ˜
    
    # 3) '0' ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬
    parts = k_num.split('0')
    
    # 4) ê° ì¡°ê° ê²€ì‚¬
    for part in parts:
        if part == '' or part == '1':         # ë¹ˆ ë¬¸ìì—´/1ì€ ë¬´ì‹œ
            continue
        if is_prime(int(part)):               # ì •ìˆ˜ë¡œ ë³€í™˜ í›„ ì†Œìˆ˜ íŒì •
            answer += 1                       # ì†Œìˆ˜ë©´ ì¹´ìš´íŠ¸
    
    return answer                             # ì†Œìˆ˜ ê°œìˆ˜ ë°˜í™˜

# -----------------------------------------------------
# ğŸ” ì²« ì‹œë„ ê²°ê³¼:
# - ì˜ˆì‹œ ì…ë ¥(n=437674, k=3) â†’ 3ê°œ, ë¬¸ì œì˜ ê¸°ëŒ€ê°’ê³¼ ì¼ì¹˜.
# - ë‹¤ë¥¸ ì˜ˆì‹œë„ ì •ìƒ ë™ì‘.
#
# ğŸ”§ ì˜¤ë‹µ ë° ì‹¤ìˆ˜(ë¬´ì—‡ì„ í‹€ë ¸ê³  ì–´ë–»ê²Œ ê³ ì³¤ëŠ”ì§€):
# - ì´ˆê¸°ì—ëŠ” ì†Œìˆ˜ íŒì •ì—ì„œ number < 2ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì•„ 1ì´ ì†Œìˆ˜ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆì—ˆìŒ.
#   â†’ ì¡°ê±´ ì¶”ê°€í•˜ì—¬ ë³´ì™„.
# - split í›„ ë¹ˆ ë¬¸ìì—´("")ë„ ë‚˜ì™€ì„œ ë¬´ì¡°ê±´ int ë³€í™˜í•˜ë©´ ì—ëŸ¬ ê°€ëŠ¥.
#   â†’ "" í•„í„°ë§ ì¶”ê°€.
#
# ğŸ“š ì‚¬ìš©ëœ/í•„ìˆ˜ ê°œë…(ìµœì†Œ):
# - ì§„ë²• ë³€í™˜(divmod, ì•ìª½ ëˆ„ì )
# - ë¬¸ìì—´ splitê³¼ í•„í„°ë§
# - ì†Œìˆ˜ íŒì •(âˆšnê¹Œì§€ í™•ì¸)
# - ì‹œê°„ë³µì¡ë„: O(log_k n + Î£âˆšp) (p=ë¶„ë¦¬ëœ ìˆ˜)
# - ê³µê°„ë³µì¡ë„: O(log_k n) (kì§„ìˆ˜ ë¬¸ìì—´ ì €ì¥)
#
# ğŸ§  (ì„ íƒ) ë‹¤ë¥¸ íš¨ìœ¨ì ì¸ í’€ì´ ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ì œì•ˆ:
# - ì†Œìˆ˜ íŒì •ì€ ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ë¡œ ë¯¸ë¦¬ ì†Œìˆ˜ë¥¼ ë§Œë“¤ì–´ë‘ê³  membership ì²´í¬í•˜ë©´ ë°˜ë³µ ì‹œ íš¨ìœ¨ì .
# - ë‹¨, ì¡°ê°ì´ ë§¤ìš° í´ ìˆ˜ ìˆì–´ âˆšp íƒìƒ‰ì€ ë¶ˆê°€í”¼ â†’ Miller-Rabin ê°™ì€ í™•ë¥ ì  ì†Œìˆ˜ íŒë³„ë¡œ ìµœì í™” ê°€ëŠ¥.
