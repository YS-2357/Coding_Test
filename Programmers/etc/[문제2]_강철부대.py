# ë¬¸ì œ2_ê°•ì² ë¶€ëŒ€(ë ˆë²¨3).py
# -----------------------------------------------------
# âœ… ì œëª©: ê°•ì² ë¶€ëŒ€ â€” ì—¬ëŸ¬ ì¶œë°œì§€ì—ì„œ ëª©ì ì§€ê¹Œì§€ì˜ ìµœë‹¨ ì‹œê°„
# âœ… ë¬¸ì œ ì„¤ëª…(ìš”ì•½):
# - ë¬´í–¥ ê·¸ë˜í”„(ê°„ì„  ê°€ì¤‘ì¹˜=1)ì—ì„œ ì—¬ëŸ¬ sourcesê°€ destinationìœ¼ë¡œ ë³µê·€í•˜ëŠ” ìµœë‹¨ì‹œê°„.
# - ë³µê·€ ë¶ˆê°€ëŠ¥í•˜ë©´ -1.
#
# âœ… ì…ë ¥ í˜•ì‹(ìš”ì§€):
# - n: ì •ì  ìˆ˜ (1..n)
# - roads: List[List[int]] (ì–‘ë°©í–¥ ê°„ì„ )
# - sources: List[int] (ì—¬ëŸ¬ ì¶œë°œ ë…¸ë“œ)
# - destination: int
#
# âœ… ê·œì¹™ ìš”ì•½(í•µì‹¬ ì•„ì´ë””ì–´):
# - ê°„ì„  ê°€ì¤‘ì¹˜ê°€ ì „ë¶€ 1 â†’ **ë‹¨ì¼ BFS**ë¥¼ destinationì—ì„œ ì—­ë°©í–¥ìœ¼ë¡œ í•œ ë²ˆë§Œ ìˆ˜í–‰.
# - ê·¸ ê²°ê³¼ ê±°ë¦¬ ë°°ì—´ distë¡œ ëª¨ë“  sourceì˜ ë‹µì„ O(1) ì¡°íšŒ.
#
# âœ… ì…ì¶œë ¥ ì˜ˆì‹œ(ê°„ë‹¨):
# - n=3, roads=[[1,2],[2,3]], sources=[2,3], destination=1 â†’ [1,2]
# - n=5, roads=[[1,2],[1,4],[2,4],[2,5],[4,5]], sources=[1,3,5], destination=5 â†’ [2,-1,0]

from collections import deque

def solution(n, roads, sources, destination):
    adj = [[] for _ in range(n+1)]
    for u, v in roads:
        adj[u].append(v)
        adj[v].append(u)
    INF = 10**9
    dist = [INF]*(n+1)
    # ëª©ì ì§€ì—ì„œ ì—­ìœ¼ë¡œ BFS
    q = deque([destination])
    dist[destination] = 0
    while q:
        u = q.popleft()
        for v in adj[u]:
            if dist[v] == INF:
                dist[v] = dist[u] + 1
                q.append(v)
    # ì¡°íšŒ
    return [(-1 if dist[s] == INF else dist[s]) for s in sources]

# -----------------------------------------------------
# ğŸ“š ê¼­ í•„ìš”í•œ ê°œë… & ì‚¬ìš© ê°œë…(ìµœì†Œ):
# - ë¬´ê°€ì¤‘ì¹˜ ê·¸ë˜í”„ ìµœë‹¨ê±°ë¦¬: ë‹¨ì¼ **BFS**
# - â€œì—¬ëŸ¬ ì¶œë°œì§€ â†’ í•˜ë‚˜ì˜ ëª©ì ì§€â€ëŠ” **ëª©ì ì§€ì—ì„œ ì—­ë°©í–¥ BFS í•œ ë²ˆ**ìœ¼ë¡œ ì „ì²´ ì»¤ë²„
